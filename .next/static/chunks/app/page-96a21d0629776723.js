(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2830:function(e,a,l){Promise.resolve().then(l.bind(l,5646))},5646:function(e,a,l){"use strict";l.r(a),l.d(a,{default:function(){return g}});var n=l(7437),t=l(2265),r=e=>{let{selectedType:a,onTypeChange:l,isDarkMode:t}=e;return(0,n.jsx)("div",{className:"mb-4",children:(0,n.jsx)("div",{className:"flex rounded-lg ".concat(t?"bg-gray-700":"bg-gray-200"," p-1"),children:["android","ios"].map(e=>(0,n.jsx)("button",{className:"flex-1 px-4 py-2 rounded-md text-sm font-medium transition-all duration-200 ".concat(a===e?t?"bg-blue-600 text-white":"bg-white text-gray-800 shadow":t?"text-gray-300 hover:bg-gray-600":"text-gray-600 hover:bg-gray-100"),onClick:()=>l(e),children:"android"===e?"\uD83E\uDD16 Android":"\uD83C\uDF4E iOS"},e))})})},d=e=>{let{iconType:a,uploadedImage:l,settings:r,isDarkMode:d}=e,s=(0,t.useRef)(null);return(0,t.useEffect)(()=>{if(l&&s.current){let e=s.current,a=e.getContext("2d");if(!a)return;let n=new Image;n.onload=()=>{let l,t,d,s;e.width=512,e.height=512,a.clearRect(0,0,e.width,e.height),a.fillStyle=r.background.color,a.fillRect(0,0,e.width,e.height);let i=512-2*r.padding;if("center"===r.scaling){let e=Math.min(i/n.width,i/n.height);d=n.width*e,s=n.height*e,l=(512-d)/2,t=(512-s)/2}else{let e=Math.max(i/n.width,i/n.height);d=i,s=i,l=(n.width-d/e)/2,t=(n.height-s/e)/2}if(a.drawImage(n,l,t,n.width,n.height,r.padding,r.padding,i,i),"square"!==r.shape){if(a.globalCompositeOperation="destination-in",a.beginPath(),"circle"===r.shape)a.arc(256,256,i/2,0,2*Math.PI);else if("squircle"===r.shape){let e=.2*i;a.moveTo(r.padding+e,r.padding),a.lineTo(512-r.padding-e,r.padding),a.quadraticCurveTo(512-r.padding,r.padding,512-r.padding,r.padding+e),a.lineTo(512-r.padding,512-r.padding-e),a.quadraticCurveTo(512-r.padding,512-r.padding,512-r.padding-e,512-r.padding),a.lineTo(r.padding+e,512-r.padding),a.quadraticCurveTo(r.padding,512-r.padding,r.padding,512-r.padding-e),a.lineTo(r.padding,r.padding+e),a.quadraticCurveTo(r.padding,r.padding,r.padding+e,r.padding)}a.fill(),a.globalCompositeOperation="source-over"}if("shadow"===r.effect)a.shadowColor="rgba(0, 0, 0, 0.5)",a.shadowBlur=20,a.shadowOffsetX=10,a.shadowOffsetY=10,a.drawImage(e,0,0),a.shadowColor="transparent";else if("gloss"===r.effect){let l=a.createLinearGradient(0,0,0,e.height);l.addColorStop(0,"rgba(255, 255, 255, 0.4)"),l.addColorStop(.5,"rgba(255, 255, 255, 0.1)"),l.addColorStop(.5,"rgba(255, 255, 255, 0)"),l.addColorStop(1,"rgba(255, 255, 255, 0.1)"),a.fillStyle=l,a.fillRect(r.padding,r.padding,i,i)}},n.src=URL.createObjectURL(l)}},[l,r]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h2",{className:"text-2xl font-bold mb-4 ".concat(d?"text-white":"text-gray-800"),children:"Icon Preview"}),(0,n.jsxs)("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-6",children:[(0,n.jsx)("div",{className:"flex justify-center items-center w-64 h-64 rounded-2xl overflow-hidden ".concat(d?"bg-gray-700":"bg-gray-200"),children:l?(0,n.jsx)("canvas",{ref:s,className:"max-w-full max-h-full"}):(0,n.jsxs)("p",{className:"text-center ".concat(d?"text-gray-400":"text-gray-600"),children:["Upload an image",(0,n.jsx)("br",{}),"to see the preview"]})}),(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsxs)("h3",{className:"text-xl font-semibold mb-2 ".concat(d?"text-gray-200":"text-gray-700"),children:["android"===a?"Android":"iOS"," Icon"]}),(0,n.jsxs)("p",{className:"mb-4 ".concat(d?"text-gray-300":"text-gray-600"),children:["This preview shows how your icon will look on ","android"===a?"Android":"iOS"," devices. The final output will include multiple sizes optimized for different screen densities."]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4 ".concat(d?"text-gray-300":"text-gray-600"),children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"font-medium",children:"Shape:"}),(0,n.jsx)("p",{children:r.shape})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"font-medium",children:"Effect:"}),(0,n.jsx)("p",{children:r.effect})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"font-medium",children:"Background:"}),(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("div",{className:"w-4 h-4 rounded-full mr-2",style:{backgroundColor:r.background.color}}),(0,n.jsx)("p",{children:r.background.color})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"font-medium",children:"Padding:"}),(0,n.jsxs)("p",{children:[r.padding,"px"]})]})]})]})]})]})},s=e=>{let{settings:a,onSettingsChange:l,isDarkMode:t}=e,r="w-full px-3 py-2 rounded-md ".concat(t?"bg-gray-700 text-white":"bg-white text-gray-800"," border ").concat(t?"border-gray-600":"border-gray-300"," focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200"),d="block mb-2 text-sm font-medium ".concat(t?"text-gray-200":"text-gray-700");return(0,n.jsxs)("div",{className:"space-y-6 overflow-y-auto flex-grow",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:d,htmlFor:"scalingSelect",children:"Scaling"}),(0,n.jsxs)("select",{id:"scalingSelect",value:a.scaling,onChange:e=>l({scaling:e.target.value}),className:r,children:[(0,n.jsx)("option",{value:"center",children:"Center"}),(0,n.jsx)("option",{value:"crop",children:"Crop"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:d,htmlFor:"effectSelect",children:"Effect"}),(0,n.jsxs)("select",{id:"effectSelect",value:a.effect,onChange:e=>l({effect:e.target.value}),className:r,children:[(0,n.jsx)("option",{value:"none",children:"None"}),(0,n.jsx)("option",{value:"shadow",children:"Shadow"}),(0,n.jsx)("option",{value:"gloss",children:"Gloss"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:d,htmlFor:"paddingInput",children:"Padding"}),(0,n.jsx)("input",{id:"paddingInput",type:"range",min:"0",max:"100",value:a.padding,onChange:e=>l({padding:parseInt(e.target.value,10)}),className:"w-full h-2 bg-blue-200 rounded-lg appearance-none cursor-pointer"}),(0,n.jsxs)("span",{className:"block mt-1 text-sm ".concat(t?"text-gray-400":"text-gray-600"),children:[a.padding,"px"]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:d,htmlFor:"bgColor",children:"Background Color"}),(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("input",{id:"bgColor",type:"color",value:a.background.color,onChange:e=>l({background:{color:e.target.value,type:a.background.type}}),className:"".concat(r," h-10 w-10 p-0 rounded-full")}),(0,n.jsx)("span",{className:"ml-3 text-sm ".concat(t?"text-gray-300":"text-gray-700"),children:a.background.color})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:d,htmlFor:"shapeSelect",children:"Shape"}),(0,n.jsxs)("select",{id:"shapeSelect",value:a.shape,onChange:e=>l({shape:e.target.value}),className:r,children:[(0,n.jsx)("option",{value:"square",children:"Square"}),(0,n.jsx)("option",{value:"circle",children:"Circle"}),(0,n.jsx)("option",{value:"squircle",children:"Squircle"})]})]})]})},i=e=>{let{onFileUpload:a,isDarkMode:l}=e,r=(0,t.useRef)(null),[d,s]=(0,t.useState)(!1);return(0,n.jsxs)("div",{className:"w-full p-4 mb-4 border-2 border-dashed rounded-lg cursor-pointer transition-colors duration-300 ".concat(l?d?"bg-gray-700 border-blue-500":"bg-gray-800 border-gray-600 hover:bg-gray-700":d?"bg-blue-50 border-blue-500":"bg-gray-50 border-gray-300 hover:bg-gray-100"),onDragOver:e=>{e.preventDefault(),s(!0)},onDragLeave:e=>{e.preventDefault(),s(!1)},onDrop:e=>{var l;e.preventDefault(),s(!1);let n=null===(l=e.dataTransfer.files)||void 0===l?void 0:l[0];n&&a(n)},onClick:()=>{var e;null===(e=r.current)||void 0===e||e.click()},children:[(0,n.jsx)("input",{type:"file",ref:r,onChange:e=>{var l;let n=null===(l=e.target.files)||void 0===l?void 0:l[0];n&&a(n)},accept:"image/*",className:"hidden","aria-label":"Upload file"}),(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("svg",{className:"mx-auto h-12 w-12 ".concat(l?"text-gray-400":"text-gray-500"),stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:(0,n.jsx)("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),(0,n.jsx)("p",{className:"mt-2 text-sm ".concat(l?"text-gray-400":"text-gray-500"),children:"Click to upload or drag and drop"})]})]})},o=e=>{let{onDownload:a,disabled:l,isDarkMode:t}=e;return(0,n.jsx)("button",{onClick:a,disabled:l,className:"\n        w-full px-6 py-3 text-lg font-semibold rounded-lg shadow-md\n        transition-all duration-300 ease-in-out\n        focus:outline-none focus:ring-2 focus:ring-opacity-75\n        ".concat(l?"cursor-not-allowed opacity-50 ".concat(t?"bg-gray-700 text-gray-400":"bg-gray-300 text-gray-600"):"transform hover:scale-105 hover:shadow-lg ".concat(t?"bg-blue-600 hover:bg-blue-700 text-white focus:ring-blue-500":"bg-blue-500 hover:bg-blue-600 text-white focus:ring-blue-400"),"\n      "),children:(0,n.jsxs)("div",{className:"flex items-center justify-center",children:[(0,n.jsx)("svg",{className:"w-6 h-6 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Download Icons"]})})},c=e=>{let{onDownload:a,disabled:l,isDarkMode:t,iconType:r}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h2",{className:"text-2xl font-bold mb-4 ".concat(t?"text-white":"text-gray-800"),children:"Download Icons"}),(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsx)("p",{className:"mb-2 ".concat(t?"text-gray-300":"text-gray-600"),children:"Your download will include the following icon sizes (in pixels):"}),(0,n.jsx)("div",{className:"flex flex-wrap gap-2",children:("android"===r?[36,48,72,96,144,192]:[20,29,40,58,60,76,80,87,120,152,167,180]).map(e=>(0,n.jsxs)("span",{className:"px-2 py-1 rounded-full text-sm ".concat(t?"bg-gray-700 text-gray-300":"bg-gray-200 text-gray-700"),children:[e,"x",e]},e))})]}),(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsx)("p",{className:"mb-2 ".concat(t?"text-gray-300":"text-gray-600"),children:"File format: PNG"}),(0,n.jsxs)("p",{className:"".concat(t?"text-gray-300":"text-gray-600"),children:["All icons will be optimized for ","android"===r?"Android":"iOS"," devices and ready to use in your app."]})]}),(0,n.jsx)(o,{onDownload:a,disabled:l,isDarkMode:t})]})};function g(){let[e,a]=(0,t.useState)("android"),[l,o]=(0,t.useState)(!1),[g,h]=(0,t.useState)(null),[x,u]=(0,t.useState)({icon:{url:""},scaling:"center",effect:"none",padding:0,background:{color:"#000000",type:"solid"},shape:"square"}),p=async()=>{if(console.log("Download button clicked"),!g){console.error("No image uploaded");return}try{let a=new FormData;a.append("iconType",e),a.append("settings",JSON.stringify(x)),a.append("file",g);let l=await fetch("/api/generate-icons",{method:"POST",body:a});if(!l.ok)throw Error("Failed to generate icons");let n=await l.blob(),t=window.URL.createObjectURL(n),r=document.createElement("a");r.style.display="none",r.href=t,r.download="icons.zip",document.body.appendChild(r),r.click(),window.URL.revokeObjectURL(t)}catch(e){console.error("Error downloading icons:",e)}};return(0,n.jsx)("div",{className:"min-h-screen ".concat(l?"dark bg-gray-900":"bg-gray-100"),children:(0,n.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,n.jsxs)("header",{className:"mb-6 flex justify-between items-center",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold ".concat(l?"text-white":"text-gray-800"),children:"Icon Generator"}),(0,n.jsx)("button",{onClick:()=>{o(!l)},className:"p-2 rounded-full ".concat(l?"bg-gray-800 text-yellow-400":"bg-white text-gray-800"),children:l?"\uD83C\uDF19":"☀️"})]}),(0,n.jsxs)("div",{className:"flex flex-col lg:flex-row gap-6",children:[(0,n.jsx)("div",{className:"w-full lg:w-1/3 flex flex-col",children:(0,n.jsxs)("div",{className:"flex-grow p-6 rounded-xl shadow-lg ".concat(l?"bg-gray-800":"bg-white"),children:[(0,n.jsx)("div",{className:"mb-6",children:(0,n.jsx)(r,{selectedType:e,onTypeChange:a,isDarkMode:l})}),(0,n.jsx)("div",{className:"mb-8",children:(0,n.jsx)(i,{onFileUpload:e=>{h(e),console.log("Image uploaded:",e.name)},isDarkMode:l})}),(0,n.jsx)(s,{settings:x,onSettingsChange:e=>{u(a=>{var l;return{...a,...e,padding:"string"==typeof e.padding?parseInt(e.padding,10):null!==(l=e.padding)&&void 0!==l?l:a.padding,background:{...a.background,...e.background||{}}}})},isDarkMode:l})]})}),(0,n.jsxs)("div",{className:"w-full lg:w-2/3 flex flex-col",children:[(0,n.jsx)("div",{className:"flex-grow p-6 rounded-xl shadow-lg ".concat(l?"bg-gray-800":"bg-white"," mb-6"),children:(0,n.jsx)(d,{iconType:e,uploadedImage:g,settings:x,isDarkMode:l})}),(0,n.jsx)("div",{className:"p-6 rounded-xl shadow-lg ".concat(l?"bg-gray-800":"bg-white"),children:(0,n.jsx)(c,{onDownload:p,disabled:!g,isDarkMode:l,iconType:e})})]})]})]})})}}},function(e){e.O(0,[971,23,744],function(){return e(e.s=2830)}),_N_E=e.O()}]);